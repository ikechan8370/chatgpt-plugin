import{p as U,m as me,n as X,b3 as he,aT as z,ac as Z,D as g,a2 as $,J as H,aq as J,o as C,O as E,b4 as ge,b5 as Fe,aA as Te,az as ue,b as De,b6 as Re,v as Me,B as Be,b7 as Le,ad as Y,b8 as Ee,b9 as Oe,an as Ae,I as Ke,al as _e,ba as He,af as Ue,aO as ze,aP as $e,bb as ye,C as je,u as ee,aQ as Ne,aR as qe,aS as te,aU as Ve,$ as re,aV as We,aW as Qe,aX as ce,F as se,aY as Ye,G as be,a4 as Ge,a_ as Se,av as pe,aw as ie,aD as G,bc as Je,bd as Xe,ax as Ze,b0 as de,be as et}from"./index.f985de17.js";import{V as tt}from"./VCheckboxBtn.b7a3a8e0.js";const lt=U({renderless:Boolean,...me()},"VVirtualScrollItem"),at=X()({name:"VVirtualScrollItem",inheritAttrs:!1,props:lt(),emits:{"update:height":e=>!0},setup(e,c){let{attrs:t,emit:u,slots:d}=c;const{resizeRef:r,contentRect:y}=he(void 0,"border");z(()=>{var o;return(o=y.value)==null?void 0:o.height},o=>{o!=null&&u("update:height",o)}),Z(()=>{var o,l;return e.renderless?g($,null,[(o=d.default)==null?void 0:o.call(d,{itemRef:r})]):g("div",H({ref:r,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(l=d.default)==null?void 0:l.call(d)])})}}),fe=-1,ve=1,nt=U({itemHeight:{type:[Number,String],default:48}},"virtual");function ot(e,c,t){const u=J(0),d=J(e.itemHeight),r=C({get:()=>{var V;return parseInt((V=d.value)!=null?V:0,10)},set(V){d.value=V}}),y=E(),{resizeRef:o,contentRect:l}=he();ge(()=>{o.value=y.value});const f=Fe(),m=new Map;let i=Array.from({length:c.value.length});const n=C(()=>{var b;const V=(!l.value||y.value===document.documentElement?f.height.value:l.value.height)-((b=t==null?void 0:t.value)!=null?b:0);return Math.ceil(V/r.value*1.7+1)});function s(V,b){r.value=Math.max(r.value,b),i[V]=b,m.set(c.value[V],b)}function v(V){return i.slice(0,V).reduce((b,F)=>b+(F||r.value),0)}function k(V){const b=c.value.length;let F=0,L=0;for(;L<V&&F<b;)L+=i[F++]||r.value;return F-1}let P=0;function M(){if(!y.value||!l.value)return;const V=l.value.height-56,b=y.value.scrollTop,F=b<P?fe:ve,L=k(b+V/2),N=Math.round(n.value/3),A=L-N,q=u.value+N*2-1;F===fe&&L<=q?u.value=ue(A,0,c.value.length):F===ve&&L>=q&&(u.value=ue(A,0,c.value.length-n.value)),P=b}function T(V){if(!y.value)return;const b=v(V);y.value.scrollTop=b}const B=C(()=>Math.min(c.value.length,u.value+n.value)),D=C(()=>c.value.slice(u.value,B.value).map((V,b)=>({raw:V,index:b+u.value}))),j=C(()=>v(u.value)),O=C(()=>v(c.value.length)-v(B.value));return z(()=>c.value.length,()=>{i=Te(c.value.length).map(()=>r.value),m.forEach((V,b)=>{const F=c.value.indexOf(b);F===-1?m.delete(b):i[F]=V})}),{containerRef:y,computedItems:D,itemHeight:r,paddingTop:j,paddingBottom:O,scrollToIndex:T,handleScroll:M,handleItemResize:s}}const ut=U({items:{type:Array,default:()=>[]},renderless:Boolean,...nt(),...me(),...De()},"VVirtualScroll"),rt=X()({name:"VVirtualScroll",props:ut(),setup(e,c){let{slots:t}=c;const u=Re("VVirtualScroll"),{dimensionStyles:d}=Me(e),{containerRef:r,handleScroll:y,handleItemResize:o,scrollToIndex:l,paddingTop:f,paddingBottom:m,computedItems:i}=ot(e,Be(e,"items"));return Le(()=>e.renderless,()=>{Ee(()=>{var n;r.value=Oe(u.vnode.el,!0),(n=r.value)==null||n.addEventListener("scroll",y)}),Ae(()=>{var n;(n=r.value)==null||n.removeEventListener("scroll",y)})}),Z(()=>{const n=i.value.map(s=>g(at,{key:s.index,renderless:e.renderless,"onUpdate:height":v=>o(s.index,v)},{default:v=>{var k;return(k=t.default)==null?void 0:k.call(t,{item:s.raw,index:s.index,...v})}}));return e.renderless?g($,null,[g("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:Y(f.value)}},null),n,g("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Y(m.value)}},null)]):g("div",{ref:r,class:["v-virtual-scroll",e.class],onScroll:y,style:[d.value,e.style]},[g("div",{class:"v-virtual-scroll__container",style:{paddingTop:Y(f.value),paddingBottom:Y(m.value)}},[n])])}),{scrollToIndex:l}}});function ct(e,c){const t=J(!1);let u;function d(o){cancelAnimationFrame(u),t.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{t.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(t.value){const l=z(t,()=>{l(),o()})}else o()})}async function y(o){var m,i;if(o.key==="Tab"&&((m=c.value)==null||m.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(i=e.value)==null?void 0:i.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const f=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const n=l.getBoundingClientRect().top;for(const s of f)if(s.getBoundingClientRect().top>=n){s.focus();break}}else{const n=l.getBoundingClientRect().bottom;for(const s of[...f].reverse())if(s.getBoundingClientRect().bottom<=n){s.focus();break}}}return{onListScroll:d,onListKeydown:y}}const st=U({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ke,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:_e},itemColor:String,...He({itemChildren:!1})},"Select"),it=U({...st(),...Ue(ze({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...$e({transition:{component:ye}})},"VSelect"),gt=X()({name:"VSelect",props:it(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:t}=c;const{t:u}=je(),d=E(),r=E(),y=E(),o=ee(e,"menu"),l=C({get:()=>o.value,set:a=>{var h;o.value&&!a&&((h=r.value)==null?void 0:h.\u03A8openChildren)||(o.value=a)}}),{items:f,transformIn:m,transformOut:i}=Ne(e),n=ee(e,"modelValue",[],a=>m(a===null?[null]:pe(a)),a=>{var p;const h=i(a);return e.multiple?h:(p=h[0])!=null?p:null}),s=qe(),v=C(()=>n.value.map(a=>f.value.find(h=>{const p=te(h.raw,e.itemValue),K=te(a.raw,e.itemValue);return p===void 0||K===void 0?!1:e.returnObject?e.valueComparator(p,K):e.valueComparator(h.value,a.value)})||a)),k=C(()=>v.value.map(a=>a.props.value)),P=J(!1),M=C(()=>l.value?e.closeText:e.openText);let T="",B;const D=C(()=>e.hideSelected?f.value.filter(a=>!v.value.some(h=>h===a)):f.value),j=C(()=>e.hideNoData&&!f.value.length||e.readonly||(s==null?void 0:s.isReadonly.value)),O=E(),{onListScroll:V,onListKeydown:b}=ct(O,d);function F(a){e.openOnClear&&(l.value=!0)}function L(){j.value||(l.value=!l.value)}function N(a){var S,I;if(!a.key||e.readonly||(s==null?void 0:s.isReadonly.value))return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"," "].includes(a.key)&&(l.value=!0),["Escape","Tab"].includes(a.key)&&(l.value=!1),a.key==="Home"?(S=O.value)==null||S.focus("first"):a.key==="End"&&((I=O.value)==null||I.focus("last"));const h=1e3;function p(w){const R=w.key.length===1,_=!w.ctrlKey&&!w.metaKey&&!w.altKey;return R&&_}if(e.multiple||!p(a))return;const K=performance.now();K-B>h&&(T=""),T+=a.key.toLowerCase(),B=K;const W=f.value.find(w=>w.title.toLowerCase().startsWith(T));W!==void 0&&(n.value=[W])}function A(a){if(e.multiple){const h=k.value.findIndex(p=>e.valueComparator(p,a.value));if(h===-1)n.value=[...n.value,a];else{const p=[...n.value];p.splice(h,1),n.value=p}}else n.value=[a],l.value=!1}function q(a){var h;(h=O.value)!=null&&h.$el.contains(a.relatedTarget)||(l.value=!1)}function we(){var a;P.value&&((a=d.value)==null||a.focus())}function ke(a){P.value=!0}function Pe(a){if(a==null)n.value=[];else if(ie(d.value,":autofill")||ie(d.value,":-webkit-autofill")){const h=f.value.find(p=>p.title===a);h&&A(h)}else d.value&&(d.value.value="")}return z(l,()=>{if(!e.hideSelected&&l.value&&v.value.length){const a=D.value.findIndex(h=>v.value.some(p=>h.value===p.value));Ve&&window.requestAnimationFrame(()=>{var h;a>=0&&((h=y.value)==null||h.scrollToIndex(a))})}}),Z(()=>{const a=!!(e.chips||t.chip),h=!!(!e.hideNoData||D.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),p=n.value.length>0,[K]=re.filterProps(e),W=p||!P.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return g(re,H({ref:d},K,{modelValue:n.value.map(S=>S.props.value).join(", "),"onUpdate:modelValue":Pe,focused:P.value,"onUpdate:focused":S=>P.value=S,validationValue:n.externalValue,dirty:p,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":n.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:W,"onClick:clear":F,"onMousedown:control":L,onBlur:q,onKeydown:N,"aria-label":u(M.value),title:u(M.value)}),{...t,default:()=>g($,null,[g(We,H({ref:r,modelValue:l.value,"onUpdate:modelValue":S=>l.value=S,activator:"parent",contentClass:"v-select__content",disabled:j.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:we},e.menuProps),{default:()=>{var S;return[h&&g(Qe,{ref:O,selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:b,onFocusin:ke,onScrollPassive:V,tabindex:"-1",color:(S=e.itemColor)!=null?S:e.color},{default:()=>{var I,w,R,_;return[(I=t["prepend-item"])==null?void 0:I.call(t),!D.value.length&&!e.hideNoData&&((R=(w=t["no-data"])==null?void 0:w.call(t))!=null?R:g(ce,{title:u(e.noDataText)},null)),g(rt,{ref:y,renderless:!0,items:D.value},{default:Q=>{var ne,oe;let{item:x,index:le,itemRef:xe}=Q;const ae=H(x.props,{ref:xe,key:le,onClick:()=>A(x)});return(oe=(ne=t.item)==null?void 0:ne.call(t,{item:x,index:le,props:ae}))!=null?oe:g(ce,ae,{prepend:Ie=>{let{isSelected:Ce}=Ie;return g($,null,[e.multiple&&!e.hideSelected?g(tt,{key:x.value,modelValue:Ce,ripple:!1,tabindex:"-1"},null):void 0,x.props.prependIcon&&g(se,{icon:x.props.prependIcon},null)])}})}}),(_=t["append-item"])==null?void 0:_.call(t)]}})]}}),v.value.map((S,I)=>{var _,Q;function w(x){x.stopPropagation(),x.preventDefault(),A(S)}const R={"onClick:close":w,onMousedown(x){x.preventDefault(),x.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return g("div",{key:S.value,class:"v-select__selection"},[a?t.chip?g(be,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:S.title}}},{default:()=>{var x;return[(x=t.chip)==null?void 0:x.call(t,{item:S,index:I,props:R})]}}):g(Ye,H({key:"chip",closable:e.closableChips,size:"small",text:S.title},R),null):(Q=(_=t.selection)==null?void 0:_.call(t,{item:S,index:I}))!=null?Q:g("span",{class:"v-select__selection-text"},[S.title,e.multiple&&I<v.value.length-1&&g("span",{class:"v-select__selection-comma"},[Ge(",")])])])})]),"append-inner":function(){var R;for(var S=arguments.length,I=new Array(S),w=0;w<S;w++)I[w]=arguments[w];return g($,null,[(R=t["append-inner"])==null?void 0:R.call(t,...I),e.menuIcon?g(se,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Se({isFocused:P,menu:l,select:A},d)}}),dt=(e,c,t)=>e==null||c==null?-1:e.toString().toLocaleLowerCase().indexOf(c.toString().toLocaleLowerCase()),yt=U({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function ft(e,c,t){var o,l,f;const u=[],d=(o=t==null?void 0:t.default)!=null?o:dt,r=t!=null&&t.filterKeys?pe(t.filterKeys):!1,y=Object.keys((l=t==null?void 0:t.customKeyFilter)!=null?l:{}).length;if(!(e!=null&&e.length))return u;e:for(let m=0;m<e.length;m++){const i=e[m],n={},s={};let v=-1;if(c&&!(t!=null&&t.noFilter)){if(typeof i=="object"){const M=r||Object.keys(i);for(const T of M){const B=te(i,T,i),D=(f=t==null?void 0:t.customKeyFilter)==null?void 0:f[T];if(v=D?D(B,c,i):d(B,c,i),v!==-1&&v!==!1)D?n[T]=v:s[T]=v;else if((t==null?void 0:t.filterMode)==="every")continue e}}else v=d(i,c,i),v!==-1&&v!==!1&&(s.title=v);const k=Object.keys(s).length,P=Object.keys(n).length;if(!k&&!P||(t==null?void 0:t.filterMode)==="union"&&P!==y&&!k||(t==null?void 0:t.filterMode)==="intersection"&&(P!==y||!k))continue}u.push({index:m,matches:{...s,...n}})}return u}function Vt(e,c,t,u){const d=E([]),r=E(new Map),y=C(()=>u!=null&&u.transform?G(c).map(u==null?void 0:u.transform):G(c));ge(()=>{const l=typeof t=="function"?t():G(t),f=typeof l!="string"&&typeof l!="number"?"":String(l),m=ft(y.value,f,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),i=G(c),n=[],s=new Map;m.forEach(v=>{let{index:k,matches:P}=v;const M=i[k];n.push(M),s.set(M.value,P)}),d.value=n,r.value=s});function o(l){return r.value.get(l.value)}return{filteredItems:d,filteredMatches:r,getMatches:o}}const vt=U({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Je({origin:"center center",scrollStrategy:"block",transition:{component:ye},zIndex:2400})},"VDialog"),bt=X()({name:"VDialog",props:vt(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const u=ee(e,"modelValue"),{scopeId:d}=Xe(),r=E();function y(l){var i,n;const f=l.relatedTarget,m=l.target;if(f!==m&&((i=r.value)==null?void 0:i.contentEl)&&((n=r.value)==null?void 0:n.globalTop)&&![document,r.value.contentEl].includes(m)&&!r.value.contentEl.contains(m)){const s=et(r.value.contentEl);if(!s.length)return;const v=s[0],k=s[s.length-1];f===v?k.focus():v.focus()}}Ve&&z(()=>u.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",y):document.removeEventListener("focusin",y)},{immediate:!0}),z(u,async l=>{var f,m;await Ze(),l?(f=r.value.contentEl)==null||f.focus({preventScroll:!0}):(m=r.value.activatorEl)==null||m.focus({preventScroll:!0})});const o=C(()=>H({"aria-haspopup":"dialog","aria-expanded":String(u.value)},e.activatorProps));return Z(()=>{const[l]=de.filterProps(e);return g(de,H({ref:r,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:u.value,"onUpdate:modelValue":f=>u.value=f,"aria-modal":"true",activatorProps:o.value,role:"dialog"},d),{activator:t.activator,default:function(){for(var f=arguments.length,m=new Array(f),i=0;i<f;i++)m[i]=arguments[i];return g(be,{root:"VDialog"},{default:()=>{var n;return[(n=t.default)==null?void 0:n.call(t,...m)]}})}})}),Se({},r)}});export{gt as V,st as a,ct as b,rt as c,bt as d,yt as m,Vt as u};
